import{_ as a,c as s,o as n,R as o}from"./chunks/framework.70e71619.js";const d=JSON.parse('{"title":"SSO Examples","description":"A collection of example Directus configurations for integrating with various OAuth 2.0, OpenID and SAML platforms.","frontmatter":{"description":"A collection of example Directus configurations for integrating with various OAuth 2.0, OpenID and SAML platforms.","readTime":"2 min read"},"headers":[],"relativePath":"self-hosted/sso-examples.md","lastUpdated":1682552691000}'),t={name:"self-hosted/sso-examples.md"},e=o(`<h1 id="sso-examples" tabindex="-1">SSO Examples <a class="header-anchor" href="#sso-examples" aria-label="Permalink to &quot;SSO Examples&quot;">​</a></h1><p>Below is a collection of example Directus configurations for integrating with various OAuth 2.0 and OpenID platforms.</p><p>Due to the large number of available SSO platforms, this list will only cover the most common configurations. Contributions to expand and maintain the list are encouraged.</p><h2 id="google" tabindex="-1">Google <a class="header-anchor" href="#google" aria-label="Permalink to &quot;Google&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">AUTH_GOOGLE_DRIVER=&quot;openid&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_GOOGLE_CLIENT_ID=&quot;...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_GOOGLE_CLIENT_SECRET=&quot;...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_GOOGLE_ISSUER_URL=&quot;https://accounts.google.com/.well-known/openid-configuration&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_GOOGLE_IDENTIFIER_KEY=&quot;email&quot;</span></span></code></pre></div><h2 id="facebook" tabindex="-1">Facebook <a class="header-anchor" href="#facebook" aria-label="Permalink to &quot;Facebook&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">AUTH_FACEBOOK_DRIVER=&quot;oauth2&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_FACEBOOK_CLIENT_ID=&quot;...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_FACEBOOK_CLIENT_SECRET=&quot;...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_FACEBOOK_AUTHORIZE_URL=&quot;https://www.facebook.com/dialog/oauth&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_FACEBOOK_ACCESS_URL=&quot;https://graph.facebook.com/oauth/access_token&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_FACEBOOK_PROFILE_URL=&quot;https://graph.facebook.com/me?fields=email&quot;</span></span></code></pre></div><h2 id="twitter" tabindex="-1">Twitter <a class="header-anchor" href="#twitter" aria-label="Permalink to &quot;Twitter&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">AUTH_TWITTER_DRIVER=&quot;oauth2&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_TWITTER_CLIENT_ID=&quot;...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_TWITTER_CLIENT_SECRET=&quot;-...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_TWITTER_AUTHORIZE_URL=&quot;https://twitter.com/i/oauth2/authorize&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_TWITTER_ACCESS_URL=&quot;https://api.twitter.com/2/oauth2/token&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_TWITTER_PROFILE_URL=&quot;https://api.twitter.com/2/users/me&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_TWITTER_IDENTIFIER_KEY=&quot;data.username&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_TWITTER_SCOPE=&quot;tweet.read users.read&quot;</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">Notice</p><p>Twitter does not provide &quot;email&quot; so we define &quot;username&quot; as the identifier.</p></div><h2 id="microsoft-azure" tabindex="-1">Microsoft Azure <a class="header-anchor" href="#microsoft-azure" aria-label="Permalink to &quot;Microsoft Azure&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">AUTH_MICROSOFT_DRIVER=&quot;openid&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_MICROSOFT_CLIENT_ID=&quot;...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_MICROSOFT_CLIENT_SECRET=&quot;...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_MICROSOFT_ISSUER_URL=&quot;https://login.microsoftonline.com/&lt;your_tenant_id&gt;/v2.0/.well-known/openid-configuration&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_MICROSOFT_IDENTIFIER_KEY=&quot;email&quot;</span></span></code></pre></div><h2 id="okta" tabindex="-1">Okta <a class="header-anchor" href="#okta" aria-label="Permalink to &quot;Okta&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">AUTH_OKTA_DRIVER=&quot;openid&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_OKTA_CLIENT_ID=&quot;...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_OKTA_CLIENT_SECRET= &quot;...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_OKTA_ISSUER_URL=&quot;https://&lt;your_okta_domain&gt;/.well-known/openid-configuration&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_OKTA_IDENTIFIER_KEY=&quot;email&quot;</span></span></code></pre></div><h2 id="auth0" tabindex="-1">Auth0 <a class="header-anchor" href="#auth0" aria-label="Permalink to &quot;Auth0&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">AUTH_AUTH0_DRIVER=&quot;openid&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_AUTH0_CLIENT_ID=&quot;...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_AUTH0_CLIENT_SECRET=&quot;...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_AUTH0_ISSUER_URL=&quot;https://&lt;your_auth0_domain&gt;/.well-known/openid-configuration&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_AUTH0_IDENTIFIER_KEY=&quot;email&quot;</span></span></code></pre></div><h2 id="keycloak" tabindex="-1">Keycloak <a class="header-anchor" href="#keycloak" aria-label="Permalink to &quot;Keycloak&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">AUTH_KEYCLOAK_DRIVER=&quot;openid&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_KEYCLOAK_CLIENT_ID=&quot;...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_KEYCLOAK_CLIENT_SECRET=&quot;...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_KEYCLOAK_ISSUER_URL=&quot;http://&lt;your_keycloak_domain&gt;/realms/&lt;your_keycloak_realm&gt;/.well-known/openid-configuration&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_KEYCLOAK_IDENTIFIER_KEY=&quot;email&quot;</span></span></code></pre></div><h2 id="github" tabindex="-1">GitHub <a class="header-anchor" href="#github" aria-label="Permalink to &quot;GitHub&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">AUTH_GITHUB_DRIVER=&quot;oauth2&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_GITHUB_CLIENT_ID=&quot;...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_GITHUB_CLIENT_SECRET=&quot;...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_GITHUB_AUTHORIZE_URL=&quot;https://github.com/login/oauth/authorize&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_GITHUB_ACCESS_URL=&quot;https://github.com/login/oauth/access_token&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_GITHUB_PROFILE_URL=&quot;https://api.github.com/user&quot;</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">Notice</p><p>If the authenticating user has not marked their email as &quot;public&quot; in GitHub, it will not be accessible by Directus.</p></div><h2 id="discord" tabindex="-1">Discord <a class="header-anchor" href="#discord" aria-label="Permalink to &quot;Discord&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">AUTH_DISCORD_DRIVER=&quot;oauth2&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_DISCORD_CLIENT_ID=&quot;...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_DISCORD_CLIENT_SECRET=&quot;...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_DISCORD_AUTHORIZE_URL=&quot;https://discord.com/api/oauth2/authorize&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_DISCORD_ACCESS_URL=&quot;https://discord.com/api/oauth2/token&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_DISCORD_PROFILE_URL=&quot;https://discord.com/api/users/@me&quot;</span></span></code></pre></div><h2 id="twitch" tabindex="-1">Twitch <a class="header-anchor" href="#twitch" aria-label="Permalink to &quot;Twitch&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">AUTH_TWITCH_DRIVER=&quot;openid&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_TWITCH_CLIENT_ID=&quot;...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_TWITCH_CLIENT_SECRET=&quot;...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_TWITCH_ISSUER_URL=&quot;https://id.twitch.tv/oauth2/.well-known/openid-configuration&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_TWITCH_SCOPE=&quot;openid user:read:email&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_TWITCH_PARAMS__CLAIMS=&quot;string:{&quot;id_token&quot;:{&quot;email&quot;:null}}&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_TWITCH_IDENTIFIER_KEY=&quot;email&quot;</span></span></code></pre></div><h2 id="apple" tabindex="-1">Apple <a class="header-anchor" href="#apple" aria-label="Permalink to &quot;Apple&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">AUTH_APPLE_DRIVER=&quot;openid&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_APPLE_CLIENT_ID=&quot;...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_APPLE_CLIENT_SECRET=&quot;...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_APPLE_ISSUER_URL=&quot;https://appleid.apple.com/.well-known/openid-configuration&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_APPLE_SCOPE=&quot;name email&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_APPLE_IDENTIFIER_KEY=&quot;email&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_APPLE_PARAMS=&quot;{&quot;response_mode&quot;:&quot;form_post&quot;}&quot;</span></span></code></pre></div><h1 id="saml-examples" tabindex="-1">SAML Examples <a class="header-anchor" href="#saml-examples" aria-label="Permalink to &quot;SAML Examples&quot;">​</a></h1><h2 id="aws-sso" tabindex="-1">AWS SSO <a class="header-anchor" href="#aws-sso" aria-label="Permalink to &quot;AWS SSO&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">AUTH_SSO_DRIVER=saml</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_PROVIDERS=&quot;AWSSSO&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_AWSSSO_idp_metadata=&#39;{Your IAM Identity Center SAML metadata file}&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_AWSSSO_sp_metadata=&#39;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_AWSSSO_ALLOW_PUBLIC_REGISTRATION=true</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_AWSSSO_DEFAULT_ROLE_ID=&#39;needs-to-be-a-valid-role-on-the-instance&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_AWSSSO_IDENTIFIER_KEY=email</span></span>
<span class="line"><span style="color:#A6ACCD;">AUTH_AWSSSO_EMAIL_KEY=email</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">AWS Help</p><ul><li><p>AWS SSO Docs are not that verbose. Users have found that the <code>sp_metadata</code> environment variable can be supplied empty.</p></li><li><p>Users have found that replacing <code>&lt;md:SingleSignOnService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect&quot; Location=&quot;https://your-soo-portal-url&quot;/&gt;</code> in the IAM Identity Center SAML metadata file with your AWS Portal URL is a fix for getting the &#39;Login With SSO&#39; button on Directus to work, rather the default redirect from AWS.</p></li><li><p>Directus expects <code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</code> to be removed from the start of the XML.</p></li></ul></div><p><strong>Mapping:</strong></p><p>Maps the email address into Directus as external_identifier:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">| User attribute in the application | Maps to this string value or user attribute in IAM Identity Center | type |</span></span>
<span class="line"><span style="color:#A6ACCD;">| --- | ----------- | --- |</span></span>
<span class="line"><span style="color:#A6ACCD;">| Subject | \${user:email} | emailAddress |</span></span>
<span class="line"><span style="color:#A6ACCD;">| email | \${user:email} | unspecified |</span></span></code></pre></div><p><strong>Config:</strong></p><p>Relay state - <code>admin/login</code> Application ACS URL - <code>https://your-directus-instance/auth/login/awssso/acs</code></p>`,36),l=[e];function p(i,c,r,u,A,C){return n(),s("div",null,l)}const h=a(t,[["render",p]]);export{d as __pageData,h as default};
