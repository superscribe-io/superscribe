import{_ as s,c as a,o as n,R as e}from"./chunks/framework.70e71619.js";const u=JSON.parse('{"title":"Docker Guide","description":"How to host Directus on Docker.","frontmatter":{"description":"How to host Directus on Docker.","readTime":"3 min read"},"headers":[],"relativePath":"self-hosted/docker-guide.md","lastUpdated":1682552691000}'),o={name:"self-hosted/docker-guide.md"},l=e(`<h1 id="docker-guide" tabindex="-1">Docker Guide <a class="header-anchor" href="#docker-guide" aria-label="Permalink to &quot;Docker Guide&quot;">​</a></h1><div class="info custom-block"><p class="custom-block-title">Non-Docker Guides</p><p>We only publish and maintain self hosting guides using Docker as this removes many environment-specific configuration problems. If you can&#39;t or don&#39;t want to use Docker, we also publish an <a href="https://www.npmjs.com/package/directus" target="_blank" rel="noreferrer">npm package</a> without guides.</p></div><p>Directus is published to <a href="https://hub.docker.com/r/directus/directus" target="_blank" rel="noreferrer">Docker Hub</a> under <code>directus/directus</code>. To use the latest Directus image from Docker Hub, run:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Make sure to change sensitive values (KEY, SECRET, ...) in production</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8055</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">8055</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">KEY=255d861b-5ea1-</span><span style="color:#F78C6C;">5996</span><span style="color:#C3E88D;">-9aa3-922530ec40b1</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">SECRET=6116487b-cda1-52c2-b5b5-c8022c45e263</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">directus/directus</span></span></code></pre></div><h3 id="installing-specific-versions" tabindex="-1">Installing Specific Versions <a class="header-anchor" href="#installing-specific-versions" aria-label="Permalink to &quot;Installing Specific Versions&quot;">​</a></h3><p>To stick to a more specific version of Directus you can use one of the following tags:</p><ul><li>Full version, e.g. <code>9.0.0</code></li><li>Minor releases, e.g. <code>9.0</code></li><li>Major releases, e.g. <code>9</code></li></ul><p>To use a specific version of Directus, run:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Make sure to change sensitive values (KEY, SECRET, ...) in production</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8055</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">8055</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">KEY=255d861b-5ea1-</span><span style="color:#F78C6C;">5996</span><span style="color:#C3E88D;">-9aa3-922530ec40b1</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">SECRET=6116487b-cda1-52c2-b5b5-c8022c45e263</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">directus/directus:9.0.0</span></span></code></pre></div><h3 id="configure-admin-user" tabindex="-1">Configure Admin User <a class="header-anchor" href="#configure-admin-user" aria-label="Permalink to &quot;Configure Admin User&quot;">​</a></h3><p>The published Docker image will automatically populate the database and create an admin user. To configure the email/password for this first user, pass the following env vars:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">ADMIN_EMAIL</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">admin@example.com</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">ADMIN_PASSWORD</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">d1r3ctu5</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><h2 id="persistence" tabindex="-1">Persistence <a class="header-anchor" href="#persistence" aria-label="Permalink to &quot;Persistence&quot;">​</a></h2><p>Containers are ephemeral, and this means that whenever you stop a container, all the data associated with it is going to be removed <a href="https://docs.docker.com/storage" target="_blank" rel="noreferrer">unless you persist them</a> when creating your container.</p><p>Directus image by default <a href="https://github.com/directus/directus/blob/main/docker/Dockerfile#L56-L60" target="_blank" rel="noreferrer">will use the following locations</a> for data persistence (note that these can be changed through environment variables)</p><ul><li><code>/directus/uploads</code> for uploads</li><li><code>/directus/database</code> (only when using SQLite and not configured to a different folder)</li><li><code>/directus/extensions</code> for loading extensions</li></ul><h2 id="docker-compose" tabindex="-1">Docker Compose <a class="header-anchor" href="#docker-compose" aria-label="Permalink to &quot;Docker Compose&quot;">​</a></h2><p>When using Docker Compose, you can use the following setup to get you started - make sure to change all sensitive values (<code>SECRET</code>, <code>DB_PASSWORD</code>, ...) in production:</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">version</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">services</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">database</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">container_name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">database</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">postgis/postgis:13-master</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># Required when running on platform other than amd64, like Apple M1/M2:</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># platform: linux/amd64</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">volumes</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./data/database:/var/lib/postgresql/data</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">networks</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">directus</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">environment</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">POSTGRES_USER</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">directus</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">POSTGRES_PASSWORD</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">directus</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">POSTGRES_DB</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">directus</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">cache</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">container_name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cache</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">redis:6</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">networks</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">directus</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">directus</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">container_name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">directus</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">directus/directus:latest</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">ports</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">8055:8055</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">volumes</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;"># By default, uploads are stored in /directus/uploads</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;"># Always make sure your volumes matches the storage root when using</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;"># local driver</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./uploads:/directus/uploads</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;"># Make sure to also mount the volume when using SQLite</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;"># - ./database:/directus/database</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;"># If you want to load extensions from the host</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;"># - ./extensions:/directus/extensions</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">networks</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">directus</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">depends_on</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cache</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">database</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">environment</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">KEY</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">255d861b-5ea1-5996-9aa3-922530ec40b1</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">SECRET</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">6116487b-cda1-52c2-b5b5-c8022c45e263</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">DB_CLIENT</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pg</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">DB_HOST</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">database</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">DB_PORT</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">5432</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">DB_DATABASE</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">directus</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">DB_USER</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">directus</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">DB_PASSWORD</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">directus</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">CACHE_ENABLED</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">true</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">CACHE_STORE</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">redis</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">CACHE_REDIS</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">redis://cache:6379</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">ADMIN_EMAIL</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">admin@example.com</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">ADMIN_PASSWORD</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">d1r3ctu5</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;"># Make sure to set this in production</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;"># (see https://docs.directus.io/self-hosted/config-options#general)</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;"># PUBLIC_URL: &#39;https://directus.example.com&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">networks</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">directus</span><span style="color:#89DDFF;">:</span></span></code></pre></div><h3 id="updating-with-docker-compose" tabindex="-1">Updating With Docker Compose <a class="header-anchor" href="#updating-with-docker-compose" aria-label="Permalink to &quot;Updating With Docker Compose&quot;">​</a></h3><p>If you are not using the <code>latest</code> tag for the Directus image you need to adjust your <code>docker-compose.yml</code> file to increment the tag version number, e.g.:</p><div class="language-diff"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">-</span><span style="color:#F07178;">   image: directus/directus:9.0.0-rc.101</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">   image: directus/directus:9.0.0</span></span></code></pre></div><p>You can then issue the following two commands (from your docker-compose root):</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker-compose</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pull</span></span>
<span class="line"><span style="color:#FFCB6B;">docker-compose</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">up</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span></span></code></pre></div><p>The images will be pulled and the containers recreated. Migrations will happen automatically so once the containers have started you will be on the latest version (or the version you specified).</p><h3 id="adding-packages-to-use-in-flows-scripts" tabindex="-1">Adding packages to use in Flows scripts <a class="header-anchor" href="#adding-packages-to-use-in-flows-scripts" aria-label="Permalink to &quot;Adding packages to use in Flows scripts&quot;">​</a></h3><p>If you need third-party packages in a script of one of your flows, the recommended way is to create a new Docker image extending from the official image and installing the packages there.</p><p>First create a file called <code>Dockerfile</code> with a content like this:</p><div class="language-Dockerfile"><button title="Copy Code" class="copy"></button><span class="lang">Dockerfile</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">FROM directus/directus:9.25.2</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">USER root</span></span>
<span class="line"><span style="color:#A6ACCD;">RUN corepack enable \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  &amp;&amp; corepack prepare pnpm@8.3.1 --activate</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">USER node</span></span>
<span class="line"><span style="color:#A6ACCD;">RUN pnpm install moment uuid</span></span></code></pre></div><p>Then build the image based on that file:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">build</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">my-custom-directus-image</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.</span></span></code></pre></div><p>And update the image reference in the <code>docker-compose.yml</code> file:</p><div class="language-diff"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">-</span><span style="color:#F07178;">    image: directus/directus:latest</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">    image: my-custom-directus-image:latest</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">Don&#39;t forget to provide <code>FLOWS_EXEC_ALLOWED_MODULES</code> variable</p><p>In your <code>docker-compose.yml</code> file, you will need to add:</p><div class="language-diff"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">environment:</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">     FLOWS_EXEC_ALLOWED_MODULES=array:moment,uuid</span></span></code></pre></div><p>For more information, please see the config section on <a href="https://docs.directus.io/self-hosted/config-options.html#flows" target="_blank" rel="noreferrer">Flows</a></p></div><h2 id="supported-databases" tabindex="-1">Supported Databases <a class="header-anchor" href="#supported-databases" aria-label="Permalink to &quot;Supported Databases&quot;">​</a></h2><p>The Directus Docker Image contains all optional dependencies supported in the API. This means the Docker image can be used with most of the supported databases and storage adapters without having to create a custom image.</p><p>To run Directus, you currently need one of the following databases:</p><table><thead><tr><th>Database</th><th>Version</th></tr></thead><tbody><tr><td>PostgreSQL</td><td>10+</td></tr><tr><td>MySQL <sup>[1]</sup></td><td>5.7.8+ / 8+</td></tr><tr><td>SQLite</td><td>3+</td></tr><tr><td>MS SQL Server</td><td>13+</td></tr><tr><td>MariaDB <sup>[2]</sup></td><td>10.2.7+</td></tr><tr><td>CockroachDB <sup>[2]</sup></td><td>21.1.13+</td></tr><tr><td>OracleDB<sup>[2]</sup> <sup>[3]</sup></td><td>19+</td></tr></tbody></table><p><sup>[1]</sup> MySQL 8+ requires <a href="https://dev.mysql.com/doc/refman/8.0/en/upgrading-from-previous-series.html#upgrade-caching-sha2-password-compatible-connectors" target="_blank" rel="noreferrer">mysql_native_password</a> to be enabled<br><sup>[2]</sup> Older versions may work, but aren&#39;t officially supported. Use at your own risk. <br><sup>[3]</sup> Make sure to install <code>node-oracledb</code> and it&#39;s system dependencies when using OracleDB</p><div class="warning custom-block"><p class="custom-block-title">OracleDB</p><p>OracleDB&#39;s Node client (<code>node-oracledb</code>) requires a couple more native dependencies, and specific configurations in order to run. The official Directus Docker image does not include these dependencies. See <a href="https://blogs.oracle.com/opal/dockerfiles-for-node-oracledb-are-easy-and-simple" target="_blank" rel="noreferrer">https://blogs.oracle.com/opal/dockerfiles-for-node-oracledb-are-easy-and-simple</a> for more information on what to include for OracleDB.</p></div>`,40),p=[l];function t(c,r,i,D,y,d){return n(),a("div",null,p)}const F=s(o,[["render",t]]);export{u as __pageData,F as default};
