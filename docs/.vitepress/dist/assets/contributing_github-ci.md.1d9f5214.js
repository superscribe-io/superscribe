import{_ as e,c as t,o,R as a}from"./chunks/framework.70e71619.js";const m=JSON.parse('{"title":"GitHub CI","description":"This guide explains how to publish a forked version of Directus on NPM, Dockerhub and GHCR. You need to first create a fork.","frontmatter":{"description":"This guide explains how to publish a forked version of Directus on NPM, Dockerhub and GHCR. You need to first create a fork.","readTime":"2 min read"},"headers":[],"relativePath":"contributing/github-ci.md","lastUpdated":1682552691000}'),r={name:"contributing/github-ci.md"},s=a('<h1 id="github-ci" tabindex="-1">GitHub CI <a class="header-anchor" href="#github-ci" aria-label="Permalink to &quot;GitHub CI&quot;">​</a></h1><blockquote><p>This guide explains how to publish a forked version of Directus on NPM, Dockerhub and GHCR. You need to first <a href="/contributing/running-locally.html">create a fork</a></p></blockquote><div class="warning custom-block"><p class="custom-block-title">Using a fork in production is neither supported nor recommended.</p><p>Only do so if:</p><ol><li>The feature you want to implement doesn&#39;t satisfy the 80/20 principle</li><li>There is a technical limitation preventing you from implementing it as an extension</li></ol><p>Forks are not officially supported - please don&#39;t submit fork-specific bugs and questions on the official repo.</p><p>If you suspect a bug to not be part of your changes please confirm this by reproducing it with the official version <strong>before</strong> submitting an issue.</p></div><div class="tip custom-block"><p class="custom-block-title">Minimum Requirements</p><p>If you want to publish your fork to hub.docker.com or NPM you need to have an account there.</p><p>Note: to publish to NPM you probably have to change all the package names. Publishing to NPM should almost never be necessary.</p></div><h2 id="_1-setup-environment-variables-secrets" tabindex="-1">1. Setup environment variables/secrets <a class="header-anchor" href="#_1-setup-environment-variables-secrets" aria-label="Permalink to &quot;1. Setup environment variables/secrets&quot;">​</a></h2><h2 id="general" tabindex="-1">General <a class="header-anchor" href="#general" aria-label="Permalink to &quot;General&quot;">​</a></h2><table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>GHCR_IMAGE</code></td><td>Image name for GitHub Container Registry. Be sure to use the full URL.</td><td><code>ghcr.io/directus/directus</code></td></tr><tr><td><code>DOCKERHUB_IMAGE</code></td><td>Image name for hub.docker.com, no prefix.</td><td><code>directus/directus</code></td></tr></tbody></table><table><thead><tr><th>Secret</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>NPM_TOKEN</code></td><td>Your NPM token. Make sure to use the type &quot;automation&quot;.</td><td><code>12345678-...</code></td></tr><tr><td><code>DOCKERHUB_USERNAME</code></td><td>Dockerhub Username</td><td><code>directus</code></td></tr><tr><td><code>DOCKERHUB_PASSWORD</code></td><td>Dockerhub Password</td><td><code>hunter2</code></td></tr></tbody></table><h2 id="_2-create-a-release" tabindex="-1">2. Create a release <a class="header-anchor" href="#_2-create-a-release" aria-label="Permalink to &quot;2. Create a release&quot;">​</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">release</span></span></code></pre></div>',10),i=[s];function n(c,d,l,u,h,p){return o(),t("div",null,i)}const f=e(r,[["render",n]]);export{m as __pageData,f as default};
