import{_ as s,c as a,o as e,R as n}from"./chunks/framework.70e71619.js";const C=JSON.parse('{"title":"Revisions","description":"REST and GraphQL API documentation on the Revisions collection in Directus.","frontmatter":{"description":"REST and GraphQL API documentation on the Revisions collection in Directus.","readTime":"2 min read","pageClass":"page-reference"},"headers":[],"relativePath":"reference/system/revisions.md","lastUpdated":1682552691000}'),o={name:"reference/system/revisions.md"},l=n(`<h1 id="revisions" tabindex="-1">Revisions <a class="header-anchor" href="#revisions" aria-label="Permalink to &quot;Revisions&quot;">​</a></h1><blockquote><p>Revisions are individual changes to items made. Directus keeps track of changes made, so you&#39;re able to revert to a previous state at will. <a href="/getting-started/glossary.html#revisions">Learn more about Revisions</a>.</p></blockquote><hr><h2 id="the-revision-object" tabindex="-1">The Revision Object <a class="header-anchor" href="#the-revision-object" aria-label="Permalink to &quot;The Revision Object&quot;">​</a></h2><p><code>id</code> <strong>integer</strong><br> Primary key of the revision.</p><p><code>activity</code> <strong>many-to-one</strong><br> Related activity record. Many-to-one to <a href="/reference/system/activity.html">activity</a>.</p><p><code>collection</code> <strong>string</strong><br> Collection in which this revision happened.</p><p><code>item</code> <strong>string</strong><br> Primary key of the item that was changed.</p><p><code>data</code> <strong>object</strong><br> Snapshot of the top-level item data.</p><p><code>delta</code> <strong>object</strong><br> Snapshot of the changes made in this revision.</p><p><code>parent</code> <strong>many-to-one</strong><br> Parent revision that triggered this revision. Many-to-one to revisions (recursive).</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">368</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">activity</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">438</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">collection</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">articles</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">item</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">data</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">title</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Hello World</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">delta</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">title</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Hello from the Docs!</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">parent</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><hr><h2 id="list-revisions" tabindex="-1">List revisions <a class="header-anchor" href="#list-revisions" aria-label="Permalink to &quot;List revisions&quot;">​</a></h2><p>List all revisions that exist in Directus.</p><div class="tip custom-block"><p class="custom-block-title">Permissions</p><p>The data returned in this endpoint will be filtered based on the user&#39;s permissions. For example, revisions that apply to a collection that the current user doesn&#39;t have access to are stripped out.</p></div><h3 id="query-parameters" tabindex="-1">Query Parameters <a class="header-anchor" href="#query-parameters" aria-label="Permalink to &quot;Query Parameters&quot;">​</a></h3><p>Supports all <a href="/reference/query.html">global query parameters</a>.</p><h3 id="returns" tabindex="-1">Returns <a class="header-anchor" href="#returns" aria-label="Permalink to &quot;Returns&quot;">​</a></h3><p>An array of up to <a href="/reference/query.html#limit">limit</a> <a href="#the-revision-object">revision objects</a>. If no items are available, data will be an empty array.</p><h3 id="rest-api" tabindex="-1">REST API <a class="header-anchor" href="#rest-api" aria-label="Permalink to &quot;REST API&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">GET /revisions</span></span>
<span class="line"><span style="color:#A6ACCD;">SEARCH /revisions</span></span></code></pre></div><p><a href="/reference/introduction.html#search-http-method">Learn more about SEARCH -&gt;</a></p><h3 id="graphql" tabindex="-1">GraphQL <a class="header-anchor" href="#graphql" aria-label="Permalink to &quot;GraphQL&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">POST /graphql/system</span></span></code></pre></div><div class="language-graphql"><button title="Copy Code" class="copy"></button><span class="lang">graphql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Query</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	revisions</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#FFCB6B;">directus_revisions</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples" aria-label="Permalink to &quot;Examples&quot;">​</a></h5><div class="language-graphql"><button title="Copy Code" class="copy"></button><span class="lang">graphql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">query</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	revisions </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">		id</span></span>
<span class="line"><span style="color:#A6ACCD;">		data</span></span>
<span class="line"><span style="color:#A6ACCD;">		delta</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><hr><h2 id="retrieve-a-revision" tabindex="-1">Retrieve a revision <a class="header-anchor" href="#retrieve-a-revision" aria-label="Permalink to &quot;Retrieve a revision&quot;">​</a></h2><p>List an existing revision by primary key.</p><h3 id="query-parameters-1" tabindex="-1">Query Parameters <a class="header-anchor" href="#query-parameters-1" aria-label="Permalink to &quot;Query Parameters&quot;">​</a></h3><p>Supports all <a href="/reference/query.html">global query parameters</a>.</p><h3 id="returns-1" tabindex="-1">Returns <a class="header-anchor" href="#returns-1" aria-label="Permalink to &quot;Returns&quot;">​</a></h3><p>Returns the requested <a href="#the-revision-object">revision object</a>.</p><h3 id="rest-api-1" tabindex="-1">REST API <a class="header-anchor" href="#rest-api-1" aria-label="Permalink to &quot;REST API&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">GET /revisions/:id</span></span></code></pre></div><h5 id="example" tabindex="-1">Example <a class="header-anchor" href="#example" aria-label="Permalink to &quot;Example&quot;">​</a></h5><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">GET /revisions/322</span></span></code></pre></div><h3 id="graphql-1" tabindex="-1">GraphQL <a class="header-anchor" href="#graphql-1" aria-label="Permalink to &quot;GraphQL&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">POST /graphql/system</span></span></code></pre></div><div class="language-graphql"><button title="Copy Code" class="copy"></button><span class="lang">graphql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Query</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	revisions_by_id(</span><span style="color:#A6ACCD;font-style:italic;">id</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ID</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">directus_revisions</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="example-1" tabindex="-1">Example <a class="header-anchor" href="#example-1" aria-label="Permalink to &quot;Example&quot;">​</a></h5><div class="language-graphql"><button title="Copy Code" class="copy"></button><span class="lang">graphql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">query</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	revisions_by_id(</span><span style="color:#A6ACCD;font-style:italic;">id</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">322</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">		id</span></span>
<span class="line"><span style="color:#A6ACCD;">		data</span></span>
<span class="line"><span style="color:#A6ACCD;">		delta</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div>`,44),t=[l];function p(r,i,c,y,D,h){return e(),a("div",null,t)}const F=s(o,[["render",p]]);export{C as __pageData,F as default};
