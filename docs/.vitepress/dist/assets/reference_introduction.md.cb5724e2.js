import{_ as s,c as a,o as n,R as e}from"./chunks/framework.70e71619.js";const h=JSON.parse('{"title":"API Reference","description":"An introduction to the REST and GraphQL APIs in Directus.","frontmatter":{"description":"An introduction to the REST and GraphQL APIs in Directus.","readTime":"7 min read","pageClass":"page-reference"},"headers":[],"relativePath":"reference/introduction.md","lastUpdated":1682552691000}'),t={name:"reference/introduction.md"},o=e(`<h1 id="api-reference" tabindex="-1">API Reference <a class="header-anchor" href="#api-reference" aria-label="Permalink to &quot;API Reference&quot;">​</a></h1><blockquote><p>Directus offers both a REST and GraphQL API to manage the data in the database. The API has predictable resource-oriented URLs, relies on standard HTTP status codes, and uses JSON for input and output.</p></blockquote><h2 id="dynamic-api" tabindex="-1">Dynamic API <a class="header-anchor" href="#dynamic-api" aria-label="Permalink to &quot;Dynamic API&quot;">​</a></h2><p>The platform&#39;s API uses <a href="/getting-started/introduction.html#database-mirroring">Database Mirroring</a> to dynamically generate REST endpoints and a GraphQL schema based on the connected database&#39;s architecture. Since these endpoints return data based on your specific schema and configured permissions, the input/output of the API differs greatly for individual installations.</p><h2 id="rest-vs-graphql" tabindex="-1">REST vs. GraphQL <a class="header-anchor" href="#rest-vs-graphql" aria-label="Permalink to &quot;REST vs. GraphQL&quot;">​</a></h2><p><strong>There is no difference in the functionality available between the REST and GraphQL endpoints.</strong> The functionality available in both is mapped to the same set of core services, meaning that you don&#39;t lose any performance or capabilities by choosing one or the other.</p><p>Which one you choose is ultimately up to you.</p><h2 id="authentication" tabindex="-1">Authentication <a class="header-anchor" href="#authentication" aria-label="Permalink to &quot;Authentication&quot;">​</a></h2><p>By default, all data in the system is off-limits for unauthenticated users. To gain access to protected data, you must <a href="/reference/authentication.html#access-tokens">include an access token with every request</a>, or <a href="/getting-started/quickstart.html#_6-set-role-public-permissions">configure permissions for the public role</a>.</p><p>Useful references:</p><ul><li><a href="/reference/authentication.html">Authenticating into the API</a></li><li><a href="/reference/authentication.html#login">Login endpoint reference</a></li></ul><h2 id="relational-data" tabindex="-1">Relational Data <a class="header-anchor" href="#relational-data" aria-label="Permalink to &quot;Relational Data&quot;">​</a></h2><p>Directus only retrieves the fields in your items that explicitly have been requested. Relational data can be retrieved nested by using <a href="/reference/query.html#fields">the <code>fields</code> parameter</a> in REST, or regular nested queries in GraphQL. This allows you to retrieve the author of your article included in the articles data, or fetch related log entry points for your app&#39;s analytics data for example.</p><h3 id="creating-updating-deleting" tabindex="-1">Creating / Updating / Deleting <a class="header-anchor" href="#creating-updating-deleting" aria-label="Permalink to &quot;Creating / Updating / Deleting&quot;">​</a></h3><p>Similarly to fetching, relational content can be modified deeply as well.</p><h4 id="many-to-one" tabindex="-1">Many-to-One <a class="header-anchor" href="#many-to-one" aria-label="Permalink to &quot;Many-to-One&quot;">​</a></h4><p>Many-to-One relationships are fairly straightforward to manage relationally. You can simply submit the changes you want as an object under the relational key in your collection. For example, if you wanted to create a new featured article on your page, you could submit:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">featured_article</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">title</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">This is my new article!</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>This will create a new record in the related collection, and save its primary key in the <code>featured_article</code> field for this item. To update an existing item, simply provide the primary key with the updates, and Directus will treat it as an update instead of a creation:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">featured_article</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">15</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">title</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">This is an updated title for my article!</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>Seeing that the Many-to-One relationship stores the foreign key on the field itself, removing the item can be done by nullifying the field:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">featured_article</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h4 id="one-to-many-many-to-many" tabindex="-1">One-to-Many (/ Many-to-Many) <a class="header-anchor" href="#one-to-many-many-to-many" aria-label="Permalink to &quot;One-to-Many (/ Many-to-Many)&quot;">​</a></h4><p>One-to-Many, and therefore Many-to-Many and Many-to-Any, relationships can be updated in one of two ways:</p><p><strong>Basic</strong></p><p>The API will return one-to-many fields as an array of nested keys or items (based on the <code>fields</code> parameter). You can use this same structure to select what the related items are:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">children</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">7</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">149</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>You can also provide an object instead of a primary key in order to create new items nested on the fly, or an object with a primary key included to update an existing item:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">children</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// assign existing item 2 to be a child of the current item</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">A new nested item</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">149</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Assign and update existing item 149</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>To remove items from this relationship, simply omit them from the array:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">children</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">149</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>This method of updating a one-to-many is very useful for smaller relational datasets.</p><p><strong>&quot;Detailed&quot;</strong></p><p>Alternatively, you can provide an object detailing the changes as follows:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">children</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">create</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[{</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">A new nested item</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}],</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">update</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[{</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">149</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">A new nested item</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}],</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">delete</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">7</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>This is useful if you need to have more tightly control on staged changes, or when you&#39;re working with a big relational dataset.</p><h4 id="many-to-any-union-types" tabindex="-1">Many-to-Any (Union Types) <a class="header-anchor" href="#many-to-any-union-types" aria-label="Permalink to &quot;Many-to-Any (Union Types)&quot;">​</a></h4><p>Many-to-Any fields work very similar to a &quot;regular&quot; many-to-many, with the exception that the related field can pull in the fields from any of the related collections, for example:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">sections</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">collection</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">headings</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">item</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">				</span><span style="color:#676E95;font-style:italic;">/* headings fields */</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">collection</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">paragraphs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">item</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">				</span><span style="color:#676E95;font-style:italic;">/* paragraphs fields */</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="rest-api" tabindex="-1">REST API <a class="header-anchor" href="#rest-api" aria-label="Permalink to &quot;REST API&quot;">​</a></h5><p>To scope the fields that are returned per collection type, you can use the <code>&lt;field&gt;:&lt;scope&gt;</code> syntax in the fields parameter as follows:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">GET /items/pages</span></span>
<span class="line"><span style="color:#A6ACCD;">	?fields[]=sections.item:headings.id</span></span>
<span class="line"><span style="color:#A6ACCD;">	&amp;fields[]=sections.item:headings.title</span></span>
<span class="line"><span style="color:#A6ACCD;">	&amp;fields[]=sections.item:paragraphs.body</span></span>
<span class="line"><span style="color:#A6ACCD;">	&amp;fields[]=sections.item:paragraphs.background_color</span></span></code></pre></div><h5 id="graphql" tabindex="-1">GraphQL <a class="header-anchor" href="#graphql" aria-label="Permalink to &quot;GraphQL&quot;">​</a></h5><p>In GraphQL, you can use nested fragments on the Union Type to select the fields:</p><div class="language-graphql"><button title="Copy Code" class="copy"></button><span class="lang">graphql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">query</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	pages </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">		sections </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">			item </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">				</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">on</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">headings</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">					id</span></span>
<span class="line"><span style="color:#A6ACCD;">					title</span></span>
<span class="line"><span style="color:#A6ACCD;">				</span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">				</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">on</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">paragraphs</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">					body</span></span>
<span class="line"><span style="color:#A6ACCD;">					background_color</span></span>
<span class="line"><span style="color:#A6ACCD;">				</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">Updating</p><p>Updating records in a many-to-any is identical to the other relationship types.</p></div><h2 id="search-http-method" tabindex="-1">SEARCH HTTP Method <a class="header-anchor" href="#search-http-method" aria-label="Permalink to &quot;SEARCH HTTP Method&quot;">​</a></h2><p>When using the REST API to read multiple items by (very) advanced filters, you might run into the issue where the URL simply can&#39;t hold enough data to include the full query structure. In those cases, you can use the SEARCH HTTP method as a drop-in replacement for GET, where you&#39;re allowed to put the query into the request body as follows:</p><p><strong>Before:</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">GET /items/articles?filter[title][_eq]=Hello World</span></span></code></pre></div><p><strong>After:</strong></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">SEARCH /items/articles</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">query</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">filter</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">title</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">				</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">_eq</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Hello World</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">			</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>There&#39;s a lot of discussion around whether or not to put a body in a GET request, to use POSTs to create search queries, or to rely on a different method altogether. As of right now, we&#39;ve chosen <a href="https://datatracker.ietf.org/doc/draft-ietf-httpbis-safe-method-w-body" target="_blank" rel="noreferrer">to align with IETF&#39;s <em>HTTP SEARCH Method</em> specification</a>. While we recognize this is still a draft spec, the SEARCH method has been used extensively before in the WebDAV world (<a href="https://tools.ietf.org/html/rfc5323" target="_blank" rel="noreferrer">spec</a>), and compared to the other available options, it feels like the &quot;cleanest&quot; and most correct to handle this moving forward. As with everything else, if you have any ideas, opinions, or concerns, <a href="https://github.com/directus/directus/discussions/new" target="_blank" rel="noreferrer">we&#39;d love to hear your thoughts</a>.</p><p>Useful reading:</p><ul><li><a href="https://datatracker.ietf.org/doc/draft-ietf-httpbis-safe-method-w-body" target="_blank" rel="noreferrer"><em>HTTP SEARCH Method</em> (IETF, 2021)</a></li><li><a href="https://httptoolkit.tech/blog/http-search-method" target="_blank" rel="noreferrer"><em>Defining a new HTTP method: HTTP SEARCH</em> (Tim Perry, 2021)</a></li><li><a href="https://stackoverflow.com/questions/978061/http-get-with-request-body" target="_blank" rel="noreferrer"><em>HTTP GET with request body</em> (StackOverflow, 2009 and ongoing)</a></li><li><a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/_empty_search.html" target="_blank" rel="noreferrer"><em>Elastic Search GET body usage</em> (elastic, n.d.)</a></li><li><a href="https://evertpot.com/dropbox-post-api" target="_blank" rel="noreferrer"><em>Dropbox starts using POST, and why this is poor API design.</em> (Evert Pot, 2015)</a></li></ul><h2 id="system-data-in-graphql" tabindex="-1">System data in GraphQL <a class="header-anchor" href="#system-data-in-graphql" aria-label="Permalink to &quot;System data in GraphQL&quot;">​</a></h2><p>Due to restrictions in GraphQL itself, it&#39;s impossible to properly scope/namespace system functionality from regular data access. In order to prevent any naming conflicts between user-created and system data, we&#39;ve scoped the access of the two into separate endpoints for user and system data respectively: <code>/graphql</code> and <code>/graphql/system</code>. Both endpoints share the same underlying schema, so <strong>nested relations will work as expected</strong> regardless if they &quot;cross over&quot; between user and system data. The only difference in the two endpoints are the root query and mutation fields available.</p><h2 id="error-codes" tabindex="-1">Error Codes <a class="header-anchor" href="#error-codes" aria-label="Permalink to &quot;Error Codes&quot;">​</a></h2><p>Below are the global error codes used within Directus, and what they mean.</p><table><thead><tr><th>Error Code</th><th>HTTP Status</th><th>Description</th></tr></thead><tbody><tr><td><code>FAILED_VALIDATION</code></td><td>400</td><td>Validation for this particular item failed</td></tr><tr><td><code>FORBIDDEN</code></td><td>403</td><td>You are not allowed to do the current action</td></tr><tr><td><code>INVALID_TOKEN</code></td><td>403</td><td>Provided token is invalid</td></tr><tr><td><code>TOKEN_EXPIRED</code></td><td>401</td><td>Provided token is valid but has expired</td></tr><tr><td><code>INVALID_CREDENTIALS</code></td><td>401</td><td>Username / password or access token is wrong</td></tr><tr><td><code>INVALID_IP</code></td><td>401</td><td>Your IP address isn&#39;t allow-listed to be used with this user</td></tr><tr><td><code>INVALID_OTP</code></td><td>401</td><td>Wrong OTP was provided</td></tr><tr><td><code>INVALID_PAYLOAD</code></td><td>400</td><td>Provided payload is invalid</td></tr><tr><td><code>INVALID_QUERY</code></td><td>400</td><td>The requested query parameters can not be used</td></tr><tr><td><code>UNSUPPORTED_MEDIA_TYPE</code></td><td>415</td><td>Provided payload format or <code>Content-Type</code> header is unsupported</td></tr><tr><td><code>REQUESTS_EXCEEDED</code></td><td>429</td><td>Hit the rate limit</td></tr><tr><td><code>ROUTE_NOT_FOUND</code></td><td>404</td><td>Endpoint does not exist</td></tr><tr><td><code>SERVICE_UNAVAILABLE</code></td><td>503</td><td>Could not use external service</td></tr><tr><td><code>UNPROCESSABLE_ENTITY</code></td><td>422</td><td>You tried doing something illegal</td></tr></tbody></table><div class="warning custom-block"><p class="custom-block-title">Security</p><p>To prevent leaking which items exist, all actions for non-existing items will return a <code>FORBIDDEN</code> error.</p></div>`,61),l=[o];function p(r,c,i,d,y,D){return n(),a("div",null,l)}const u=s(t,[["render",p]]);export{h as __pageData,u as default};
